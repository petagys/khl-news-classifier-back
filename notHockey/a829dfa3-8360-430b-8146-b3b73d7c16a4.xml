<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/zadacha-avtomaticheskogo-postroeniya-diagramm-atomnyh-spektrov-i-opyt-ee-resheniya-v-informatsionnoy-sisteme-elektronnaya-struktura]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Казаков Виталий Геннадьевич]]></item>
    <item type="str"><![CDATA[Яценко Алексей Степанович]]></item>
    <item type="str"><![CDATA[Казаков Владислав Витальевич]]></item>
    <item type="str"><![CDATA[Жакупов Мурат Берикович]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Задача автоматического построения диаграмм атомных спектров и опыт ее решения в информационной системе «Электронная структура атомов»]]></title>
  <keywords auto="true" type="list" verify="true">
    <item type="str"><![CDATA[ИНФОРМАЦИОННЫЕ СИСТЕМЫ]]></item>
    <item type="str"><![CDATA[БАЗЫ ДАННЫХ]]></item>
    <item type="str"><![CDATA[АТОМНАЯ СПЕКТРОСКОПИЯ]]></item>
    <item type="str"><![CDATA[ВИЗУАЛИЗАЦИЯ]]></item>
    <item type="str"><![CDATA[ДИАГРАММЫ ГРОТРИАНА]]></item>
  </keywords>
  <annotation auto="true" type="str" verify="true"><![CDATA[Описывается информационная система «Электронная структура атомов» по спектральным свойствам нейтральных атомов. База данных системы хранит около 150 000 записей об уровнях энергии и радиационных переходах всех элементов периодической таблицы и является одной из крупнейших в мире и России. Основными особенностями базы данных являются большая, по сравнению с аналогами, полнота представления трансурановых и редкоземельных элементов с большим числом Z, а также то, что все введенные в базу данных переходы классифицированы. Помимо стандартного представления спектральных данных в табличной форме, информационная система реализует уникальную возможность визуализации спектральных данных атомов в виде диаграмм Гротриана. Диаграммы строятся системой автоматически по информации базы данных для всех нейтральных атомов из таблицы Д. Менделеева. Впервые автоматическое построение диаграмм дополнено эффективным отбором переходов для размещения на диаграмме, что существенно повышает читаемость последних и приближает к диаграммам, построенным специалистами «вручную». Информационная система опубликована в открытом доступе в сети Интернет.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[Описывается информационная система «Электронная структура атомов» по спектральным свойствам нейтральных атомов. База данных системы хранит около 150 000 записей об уровнях энергии и радиационных переходах всех элементов периодической таблицы и является одной из крупнейших в мире и России. Основными особенностями базы данных являются большая, по сравнению с аналогами, полнота представления трансурановых и редкоземельных элементов с большим числом 1, а также то, что все введенные в базу данных переходы классифицированы. Помимо стандартного представления спектральных данных в табличной форме, информационная система реализует уникальную возможность визуализации спектральных данных атомов в виде диаграмм Грот-риана. Диаграммы строятся системой автоматически по информации базы данных для всех нейтральных атомов из таблицы Д. Менделеева. Впервые автоматическое построение диаграмм дополнено эффективным отбором переходов для размещения на диаграмме, что существенно повышает читаемость последних и приближает к диаграммам, построенным специалистами «вручную». Информационная система опубликована в открытом доступе в сети Интернет. Ключевые слова: информационные системы, базы данных, атомная спектроскопия, визуализация, диаграммы Гротриана. Информационные системы по спектральным свойствам атомов Анализ информации об оптических спектрах атомных и газовых систем занимает ключевое место в исследованиях в целом ряде научных направлений фундаментальной физики и прикладных областях, от астрофизики и физики газовых лазеров до элементного анализа и археологии. Учитывая, что в природе существуют сотни атомов и ионов с десятками и сотнями уровней и разрешенных переходов, речь идет об информационном массиве объемом в сотни тысяч записей, организация эффективной работы исследователя с которым является сложной задачей, требующей применения современных информационных технологий. Наиболее перспективным механизмом предоставления спектральных данных являются информационные системы, построенные на базах данных. Во-первых, они обеспечивают специалиста актуальной информацией последних исследований, тогда как материалы справочных * Работа выполнена при поддержке ФЦП «Научные и научно-педагогические кадры инновационной России» на 2009-2012 гг. и Российского фонда фундаментальных исследований, грант № 08-07-0306-а. ISSN 1818-7900. Вестник НГУ. Серия: Информационные технологии. 2010. Том 8, выпуск 3 © В. Г. Казаков, А. С. Яценко, В. В. Казаков, М. Б. Жакупов, 2010 изданий достаточно быстро устаревают. Во-вторых, информационные системы обеспечивают широкий спектр механизмов выборки и сортировки, кардинально сокращая время на подготовку данных, необходимых исследователю. В настоящее время в мире существует достаточно много информационных ресурсов по спектральным данным атомных систем. В связи с большей оперативностью и доступностью большую популярность в научном сообществе имеют информационные системы на основе баз данных, обеспечивающие взаимодействие с пользователем по протоколу HTTP. Так, в США Национальным институтом стандартов и технологий (NIST) поддерживается система NIST Atomic Spectral Database (NIST ASD) [1]. Аналогичны ей системы NIFS (поддерживается Национальным институтом физики, Япония) [2], AMDIS (Австрийский институт атомной энергии) [3], VALD (Австрийский университет) [4], TOPbase (поддерживают исследовательские группы Франции, Германии, Англии США и Венесуэлы) [5] и др. Каждая из этих систем имеет обширную базу данных по спектрам атомов и / или ионов. Примером и своеобразным эталоном может служить информационная система NIST ASD, база данных которой является одной из наиболее полных. В этой базе содержатся следующие данные о спектральных линиях: длина волны в воздухе, относительная интенсивность, коэффициент Эйнштейна, энергии верхних и нижних уровней, их конфигурации и термы. Имеется также оценка точности приведенных величин. В базе хранятся данные о переходах 99 элементов и уровнях энергии 52 элементов. Всего описано 70 000 уровней энергии и 91 000 линий, для 40 000 линий имеются вероятности перехода. Каждая из перечисленных систем по запросу пользователя, включающему целый ряд параметров, способна формировать документы HTML с таблицей выбранных по запросу данных об уровнях или переходах. В России имеется несколько автоматизированных систем, позволяющих оперировать со спектроскопическими данными атомов. Например, в Физическом институте Академии наук используется программа «АТОМ» для расчетов различных характеристик атомов [6]. База данных по ридберговским и автоионизационным состояниям используется в Институте спектроскопии Академии наук [7]. В Российском федеральном ядерном центре (г. Снежинск) имеется база данных SPECTR-W3 [8] по оптическим спектрам атомов и ионов изоэлектрон-ных рядов, которая в 2006 г. была опубликована в Интернете в открытом доступе. Все эти системы, однако, существенно уступают зарубежным аналогам по величине и полноте базе данных. Специалистами Новосибирского государственного университета (НГУ) и Института автоматики и электрометрии (ИАиЭ) Сибирского отделения РАН создана и с 2005 г. опубликована в открытом доступе в Интернете информационная система «Электронная структура атомов» (ИС ЭСА) [9] с обширной базой данных, которая на настоящее время является самой большой из российских систем и не уступает лучшим зарубежным аналогам. База данных системы постоянно обновляется и содержит в настоящее время более 150 000 записей по радиационным уровням и переходам нейтральных атомов, включающих широкий перечень фиксируемых параметров. Для уровней это электронная конфигурация, энергия, время жизни, для переходов - разность энергий уровней, длина волны, сила осциллятора, интенсивность, вероятность перехода, сечения возбуждения, а также ссылки на образующие переход уровни. В базе данных представлены все элементы периодической таблицы. Основными особенностями базы данных являются большая, по сравнению с аналогами, полнота представления трансурановых и редкоземельных элементов с большим числом Z (зарядом ядра), а также то, что все введенные в базу данных переходы классифицированы. Сравнение параметров базы данных ИС ЭСА с базой данных ASD приведено в таблице. Визуализация атомных спектров в виде диаграмм Гротриана Большинство существующих информационных систем по спектральным свойствам атомов обладают существенным ограничением, значительно сужающим круг их использования. Сравнение параметров баз данных информационных систем NIST ASD [1] и ИС ЭСА [9] (по нейтральным атомам) Сравниваемый параметр Л8Б N181 ИС ЭСА Число элементов, информация по которым есть в базе данных всего описано 99 104 есть информация по уровням 58 104 есть информация по переходам 99 104 Число уровней всего 24 000 37 500 из них классифицированных 20 000 26 000 Число переходов всего 42 500 65 000 из них классифицированных 19 500 65 000 Возможности автоматического построения диаграмм Гротриана Отбор размещаемых уровней отсутствует имеется Отбор размещаемых переходов отсутствует имеется Число элементов, для которых диа- 84 104 грамма строится в том числе с размещением пере- 58 98 ходов Дело в том, что исследователю, наряду с точными числовыми данными об уровнях и переходах, требуется графическое представление спектров, незаменимое для целей общего анализа электронной структуры атомов. Впервые графические схемы для изображения спектров применил Н. Бор в 1921 г. [10]. Далее техника графического представления спектров претерпела ряд изменений, среди которых можно отметить схемы термов и переходов, предложенные Д. С. Рождественским [11]. В настоящее время общеупотребительным способом визуализации атомных спектров являются диаграммы, предложенные в 1928 г. В. Гротриа-ном [12]. Диаграмма, называемая диаграммой Гротриана, представляет собой прямоугольник с заданными размерами, внутри которого с помощью линий, букв и чисел представлена электронная структура атомной системы (положение уровней энергии, основные радиационные переходы, квантовые числа). Каждому известному электронному состоянию соответствует своя горизонтальная линия и ряд квантовых чисел. Состояния с одинаковыми орбитальными числами сгруппированы в колонки 5, р, /. Они образуют последовательность, сходящуюся к границе ионизации. Такое размещение автоматически разделяет четные и нечетные состояния. Уровни энергий расположены по ординате, а обозначения термов - по абсциссе вверху. При этом четные и нечетные состояния чередуются между собой. На вертикальных шкалах отложена энергия (в см-1 и эВ). Наклонными линиями показаны радиационные переходы со значениям длин волн в ангстремах (Е). Они возникают в результате переходов возбужденного электрона между двумя уровнями соседних колонок, подчиняясь следующим правилам отбора: М = ± 1; М/ = 0, ± 1. Толщина линий увеличивается с ростом интенсивности. Из всего многообразия линий в спектре атома в первую очередь показаны резонансные и интенсивные линии. Эти ли- Рис. 1. Диаграмма Гротриана уровней и переходов для Ыа I [12] нии не исчерпывают всех возможных переходов. Они не приведены, чтобы не перегружать рисунок. В конечном итоге диаграмма, помещенная на одной странице, дает весьма полную информацию об электронном строении атома в наглядной форме. Пример диаграммы Грот-риана для атома натрия приведен на рис. 1. Следует отметить, что построение диаграмм Гротриана является сложной интеллектуальной задачей, решение которой в настоящее время возможно только для квалифицированных специалистов и осуществляется «вручную». Поскольку построение диаграммы процесс трудоемкий и требующий большого количества времени квалифицированного специалиста, ощущается их постоянный дефицит. Диаграммы Гротриана, которые можно найти в Интернете, за исключением нескольких обсуждаемых далее случаев, представляют собой именно такие, построенные вручную специалистами и, как правило, являются сканированными копиями печатных изданий. Например, все диаграммы из книги [13] представлены на сайте NASA/IPAC [14]. В последние годы различными научными коллективами был сделан ряд попыток компьютеризировать процесс построения диаграмм Гротриана, что могло бы сократить трудоемкость работы специалиста при построении диаграммы за счет передачи части рутинных операций компьютеру. Все чаще появляются попытки и полностью автоматизировать процесс построения диаграммы Гротриана по некоторому набору данных, полностью исключив специалиста из процесса. Решение такой задачи позволило бы развить в информационных системах по атомным спектрам новую функциональность динамического построения диаграмм Гротриана по запросу пользователя. На этом пути можно ожидать, что нахождение эффективных алгоритмов, обеспечивающих построение диаграмм Гротриана, сравнимых по качеству с созданными специалистами «вручную», могло бы решить проблему дефицита таких диаграмм кардинальным образом. Среди систем, реализующих компьютерное построение графического представления спектральных данных, можно отметить программу Multi-Photon Grotrian Diagram, разработанную компанией Atomic Engineering Corp [15]. Однако в данной программе автоматическое построение диаграммы отсутствует: пользователь сам должен выбирать уровни и переходы, которые следует отобразить, кроме того, в программе можно строить только частичную диаграмму. Отметим, что программа работает не с постоянно обновляемой базой данных, а со статичными данными. Еще одна программа, Sapphire Evaluation, разработанная компанией Cavendish Instruments [16] также не имеет возможности автоматического построения графического представления, однако локальную базу данных можно пополнять через Интернет. Существенно более развитые средства автоматического построения диаграмм Гротриана имеются в NIST ASD [1]. В данной информационной системе присутствует возможность полностью автоматического построения диаграмм Гротриана, осуществляемая динамически по запросу пользователя, а публикация в открытом доступе в Интернете делает этот сервис доступным для любого исследователя и инженера. На рис. 2 приведен пример диаграммы Гротриана, автоматически построенной системой для Fe I. Как видим, получаемые в результате автоматического построения диаграммы слабо читаемы, что ограничивает возможности их использования. Главной проблемой является то, что, в отличие от специалиста, NIST ASD при построении диаграммы не проводит отбор размещаемых на ней данных. Поскольку большинство атомных систем имеет в своем спектре многие сотни и тысячи линий и переходов, размещение их всех на диаграмме делает картину запутанной, не позволяющей ни выделить нужные элементы, ни сделать к ним необходимые подписи. Отчасти ситуация исправляется возможностью осуществлять фильтрацию отображаемых переходов по энергиям, длинам волн, значениям других параметров, что делает диаграммы применимыми в целом ряде конкретных задач, однако общую картину спектра получить таким способом невозможно. Другой проблемой ASD является неоптимальный алгоритм расположения информации на графике, когда многочисленные пересечения линий создают неразборчивую «паутину». Кроме того, полное построение диаграмм проводится только для атомов и ионов с малым Z. TOTALS L.,.1: Jtil Lints 2059 Ul>4:1 Press «SPACEBAR> for first line 3p6 3d6 4s.ns 3p6 3d6 4snp 3p6.3d7 np 3p6 3d64snd 3p6 3d7ns 3p6 3d7 nd 3p6 3d54s2 np unknown Рис. 2. Диаграмма Гротриана, автоматически построенная информационной системой ЛББ МВТ для Fe I [1] Для больших Z в диаграммах ASD отображаются только уровни, а для трансурановых элементов диаграммы Гротриана вообще в ASD не строятся. Помимо №8Т Л8Б, в настоящее время еще только одна информационная система по спектральным данным атомов и ионов реализует автоматическое построение диаграмм Гротриана по запросам пользователей - ИС ЭСА [17]. Построение диаграмм в ИС ЭСА осуществляется динамически по запросу пользователя и по спектральной информации, хранящейся в базе данных атомных уровней и переходов системы на момент построения. Диаграммы, представляемые системой, показывают в ряде случаев лучшее, по сравнению с предыдущими работами, качество представления информации и более соответствуют классическим диаграммам Гротриана, создаваемым специалистами «вручную». Это достигается тем, что в ИС ЭСА при построении диаграммы реализуется сложный алгоритм отбора информации для размещения, основанный на интеллектуальном анализе данных, что аналогично работе специалиста, экспертным образом определяющего, сколько и каких переходов следует разместить на диаграмме. Такой подход качественно отличается от тех случаев, когда пользователь сам отбирает переходы для размещения на диаграмме, и от тех, когда выводятся все уровни и переходы, имеющиеся в системе. В то же время задача автоматического построения диаграмм Гротриана с желаемыми характеристиками в настоящее время далека от разрешения. Так, например, отсутствуют примеры автоматического создания диаграмм Гротриана с учетом особенностей решаемого класса задач, часто реализуемых «вручную», практически не используются возможности интерактивной графики для организации работы пользователя с диаграммой и др. Таким образом, можно констатировать, что развитие в информационных системах средств автоматического построения диаграмм Гротриана по уровням и радиационным переходам атомов и их ионов является актуальной и не решенной в настоящее время задачей обеспечения широкого спектра фундаментальных и прикладных научных исследований. Особенности построения системы ИС ЭСА, и особенно ранее не описанная техника автоматической генерации диаграмм Гротриана, примененная в ней, может представлять интерес для решения подобных задач в области создания программных средств для атомной спектроскопии, а также для дальнейших исследований по визуализации атомных спектров. Кроме того, проблема автоматического построения диаграмм Гротриана может быть интересна в качестве задачи когнитивной компьютерной графики [19]. Далее мы приводим основные алгоритмы и архитектурно-программные особенности реализованного решения. Поскольку объем статьи не может вместить и не предполагает описания всех деталей программного комплекса, достаточно сложного и емкого по коду, мы ограничимся описанием общих принципов. Особенности построения информационной системы «Электронная структура атомов» и генерируемых в ней диаграмм Гротриана Информационная система «Электронная структура атомов» создается с 2003 г. на базе Новосибирского государственного университета с участием специалистов Института автоматики и электрометрии Сибирского отделения Российской академии наук в рамках проекта «Гротриан», направленного на создание информационной системы по атомным спектрам, сочетающей обширную базу данных с функциональностью автоматического построения диаграмм Гротриана динамически по запросам пользователей через Интернет. В 2005 г. был введен в эксплуатацию и опубликован в Интернете 1 первый прототип информационной системы «Электронная структура атомов» (ИС ЭСА) с возможностью построения диаграмм Гротриана), которая к настоящему времени охватывает нейтральные атомы и может автоматически строить для них диаграммы Гротриана [17; 18]. Система построена в классической трехуровневой архитектуре баз данных. В качестве серверного уровня используется SQL-сервер в реализации MS SQL. Промежуточный уровень реализуется web-сервером (Apache) с комплектом PHP-скриптов. Клиентский уровень представлен стандартным web-клиентом, на котором выполняются динамические HTML-документы. Для представления графики web-клиент расширяется соответствующими программными расширениями. В текущей реализации интерфейс системы оптимизирован для web-браузера Microsoft Internet Explorer (v6.0+) с установленным программным модулем для просмотра графических SVG файлов Adobe SVG viewer (v 3.0.3). Серверный уровень используется для хранения, выборки и подготовки данных. Для этого реализована база данных спектральной информации. Промежуточный уровень реализует интерфейс ИС. На этом уровне по требованиям пользователя формируются запросы к базе данных и на основе полученной информации осуществляется формирование документов с данными и отправка их пользователю. Клиентский уровень осуществляет представление переданных ему документов, реализуя заложенную в них интерактивность. 1 См.: http://asd.nsu.ru ■■ННШШ - .. . ч Рис. 3. Диаграмма Гротриана, автоматически построенная информационной системой ЭСА для Fе I [9] Описываемая информационная система обеспечивает возможность автоматического построения диаграмм Гротриана, главными особенностями которых являются следующие. Во-первых, впервые при построении диаграммы удалось автоматически осуществлять приемлемый отбор переходов для размещения на диаграмме. Во-вторых, диаграммы Гротриана интерактивны и могут размещаться на полотне или экране любого размера, гибко оптимизируя количество и состав выводимой информации соответственно текущим условиям. Опишем вид диаграмм Гротриана, автоматически генерируемых ИС ЭСА (рис. 3). Диаграмма представляет собой прямоугольную область, в которой размещаются энергетические уровни и радиационные переходы отображаемого атомного спектра. Заголовок диаграммы содержит три строки, ячейки которых задают столбцы для размещения каждого из радиационных уровней. Первая строка задает конфигурации состояний, вторая и третья - атомные остатки и термы соответственно. По существу заголовок диаграммы задает классификацию уровней, разбивая их на некоторое количество групп в соответствии с некоторыми принципами сходства, существенного для специалиста. Уровни изображаются короткими горизонтальными отрезками, размещаемыми каждый в столбце, соответствующем группе классификации, и на высоте, соответствующей энергии уровня согласно разметке оси ординат. Низ диаграммы соответствует нулевому значению энергии (основное состояние), верх - наибольшим значениям энергии уровня, допустимым для данной системы (ориентировочно равно энергии ионизации системы). Переход изображается отрезком, соединяющим порождающие его энергетические уровни. Проекция отрезка на ось ординат равна энергии перехода и определяет соответствующую ему частоту излучения. В этом отношении диаграммы Грот-риана, генерируемые ИС ЭСА, полностью соответствуют общепринятому представлению. Некоторая особенность присутствует в технике изображения переходов. Обычное изображение перехода непосредственным соединением отрезком энергетических уровней, его порождающих, даже при относительно малом числе отображенных переходов превращает диаграмму в нечитаемую паутину линий. Поэтому мы применили технику построения уровней и переходов, предложенную в [20]. В данной технике, как и в классическом случае, линия перехода начинается на нижнем (основном) уровне, образующем переход (точнее, из центра короткого отрезка, представляющего уровень на диаграмме). Однако если в общеупотребительной технике все линии резонансных переходов, переводящих атомную систему на возбуждённый уровень, образуют в этом месте скопление линий (см. рис. 2), то в использованной нами технике эти линии разнесены по горизонтальной прямой, являющейся продолжением основного состояния. Такое же построение использовано на переходах от высоковозбуждённых уровней на низковозбужденные (см. рис. 3). Такая техника построения диаграммы Гротриана позволяет при том же количестве размещаемой информации существенно улучшить читаемость диаграммы за счет исключения скоплений линий в одной точке и сокращения числа их пересечений. Из сказанного следует, что диаграммы Гротриана состоят полностью из простых геометрических и текстовых объектов и наилучшей техникой для них будет техника векторной графики. Однако существующие в настоящее время решения, в том числе и [1], генерируют диаграммы в растровой технике, что несет в себе ряд ограничений. Такие диаграммы неэффективно используют возможности различных мониторов, при попытках распечатки диаграмм в хорошем качестве неизбежен эффект пикселизации диаграммы и т. д. Исключительной особенностью ИС ЭСА является применение при представлении диаграмм Гротриана векторных изображений. Алгоритмы автоматического построения диаграмм Гротриана Архитектура построенных для генерации диаграмм Гротриана программных средств выглядит следующим образом. Серверный уровень системы отвечает за сбор и предварительную подготовку информации для построения диаграммы. Программный компонент данного уровня является частью базы данных спектральной информации и реализован в виде SQL-скрипта, дающего на выходе XML-документ с необходимыми данными. В этот документ включаются данные о всех уровнях и переходах спектра, но подготовленные специальным образом. Главными моментами такой подготовки являются проведение классификации всех уровней спектра и сортировка всех переходов системы по значимости в спектральной картине. Обе эти операции требуют интеллектуального анализа имеющейся в базе данных информации. На промежуточном уровне из XML-документа, переданного серверным уровнем, строится клиентское приложение, реализующее диаграмму. Программный компонент промежуточного уровня - программа на языке PHP. Результатом работы программы является интерактивный документ векторной графики в формате SVG, который передается клиенту. В SVG-документе сформировано полотно диаграммы со всеми необходимыми шкалами, а также графические объекты, составляющие заголовок диаграммы и соответствующие группам уровней в согласии с проведенной на серверном уровне классификацией, подготовлены некоторые другие необходимые для построения диаграммы объекты. В SVG-документ внедряется библиотека функций на языке ECMAScript, реализующая всю необходимую документу на стороне клиента интерактивность. На клиентском уровне работает интерактивный SVG-документ, который и рисует диаграмму в окончательном виде. Во-первых, ECMAScript SVG-документа размещает на предоставленном документу поле полотно диаграммы. На следующем этапе он формирует заголовок диаграммы, сообразуясь с имеющимся для этого пространством, и размещает сами группы уровней, каждый в столбце, соответствующем своей группе классификации. Наконец, третий этап состоит в размещении переходов. При этом происходит перебор всего множества переходов в соответствии с проведенной сортировкой по значимости. Для каждого следующего перехода определяется, не ухудшает ли переход читаемости диаграммы, и принимается решение о его отрисовке. Таким образом, в результате данного процесса получается векторная диаграмма. Таковы общие принципы архитектуры и работы реализованных в ИС ЭСА программных средств автоматического построения диаграмм Гротриана. В целом схема оказалось весьма удачной. Помимо всего прочего, она естественно разделила все сложные действия на ряд алгоритмов, таких как алгоритм классификации уровней, алгоритм сортировки переходов, алгоритм размещения переходов и т. д. При этом каждый из алгоритмов может изменяться и уточняться без необходимости перестройки общей схемы построения диаграммы Гротриа-на. Необходимо сказать, что, хотя каждый из этих алгоритмов оказывается в итоговой реализации достаточно сложным, чтобы его можно было привести со всеми подробностями, основные принципы работы каждого достаточно понятны. Сначала мы рассмотрим группу алгоритмов, определяющих размещения на диаграмме энергетических уровней спектра. Это алгоритмы построения классификации уровней, алгоритмы формирования заголовка диаграммы и алгоритм размещения уровней на диаграмме. Алгоритм классификации уровней на основании информации об уровне определяет его принадлежность к одной из групп, объединяющих уровни со сходными свойствами. Не имея возможности входить в подробности относительно физических оснований классификации (см., например, [21; 22]), сообщим только то, что каждый уровень относится к определенному типу электронной конфигурации. Уровни с одним типом конфигурации делятся на группы с одним значением атомного остатка, а те, в свою очередь, с одним значением терма. Необходимо отметить, что задача классификации является достаточно сложной задачей, поскольку информация, необходимая для классификации, не извлекается непосредственно из параметров уровня и требует анализа, учитывающего особенности нескольких различных нотаций описания атомного остатка и терма, традиционно используемых в физике разными группами исследователей и для разных типов спектров. Алгоритм формирования заголовка диаграммы работает на промежуточном уровне системы. Он обрабатывает информацию о классификации уровней и формирует таблицу заголовка. Наконец, на клиентском уровне работает алгоритм размещения на диаграмме спектральных уровней, реализованный на языке ECMAScript. На первом этапе работы алгоритм размещает на диаграмме ее заголовок. Главная сложность этого этапа возникает, когда таблица заголовка не может быть размещена на заданной ширине диаграммы. Такое возникает часто, поскольку число групп в классификации для некоторых спектров достаточно велико. Ширина же столбцов таблицы, отводимых для размещения уровней одной группы, не может быть уменьшена более определенной величины, например ширины шрифта для подписи столбца. Тогда осуществляется корректировка классификации, и некоторые группы классификации временно объединяются, с тем чтобы уменьшить общее их число. При этом вместо нескольких столбцов в заголовке создается один, к которому и будут приписаны уровни из всех объединенных групп (задача выбора групп для слияния возлагается еще на один алгоритм -алгоритм уплотнения заголовка). Наконец, после изображения заголовка диаграммы алгоритм размещения уровней приступает к отрисовке на диаграмме энергетических уровней спектра, что уже является относительно простой задачей, поскольку для каждого уровня определен столбец размещения (в соответствии с классификацией) и ордината уровня (в соответствии с энергией). Другая группа алгоритмов отвечает за отбор переходов для размещения на диаграмме. Его целью является размещение возможно большего числа возможно более значимых переходов с сохранением, тем не менее, общей читаемости диаграммы. Здесь все начинается с алгоритма сортировки переходов, реализуемого SQL-скриптом. Алгоритм сортировки переходов заключается в отнесении каждого перехода к одному из трех диапазонов: видимый, инфра- красный и ультрафиолетовый. Переходы сортируются в порядке принадлежности к частотным диапазонам. Оптический диапазон в алгоритме считается более приоритетным, ультрафиолетовый - наименее приоритетным. Это соответствует тому, что оптические переходы наиболее, а ультрафиолетовые - наименее доступны для исследователя, что определяет степень интереса к ним. Внутри диапазона переходы сортируются по убыванию интенсивности (один из параметров уровня), что также вполне понятно, поскольку более интенсивные переходы вносят и больший вклад в спектральную картину. В промежуточном слое программного обеспечения системы эти данные не претерпевают существенных изменений, и активная работа с ними начинается на клиентской стороне, где после построения полотна и шапки диаграммы Гротриана и размещения, в соответствии с площадью, отведенной для диаграммы, всех энергетических уровней спектра начинается размещение переходов. Этот процесс регулируется алгоритмом размещения переходов, реализованным в ECMAScript, встроенном в SVG-документ. В алгоритме осуществляется процесс перебора всех переходов с попыткой их размещения на диаграмме и принятия окончательного решения. Это происходит следующим образом. Для каждого очередного перехода на диаграмме создается и отрисовывается соответствующий объект, соединяющий два энергетические уровня, образующие переход. После этого проверяется, не нарушается ли читаемость диаграммы. Проверка читаемости диаграммы осуществляется отдельным алгоритмом, выясняющим, не конкурирует ли рассматриваемый переход (пересекается, расположен слишком близко для различения, ...) с каким-либо из уже размещенных переходов. Переход, нарушающий читаемость диаграммы, не размещается на ней. Данный комплекс алгоритмов применим для спектров любых атомных систем. При этом он демонстрирует высокое качество диаграмм для всех нейтральных атомов и наиболее востребованных ионов. В случае некоторых ионов, особенно с большим числом Z, необходимо применение более сложных алгоритмов, учитывающих особенности их спектров. Эта корректировка связана с наличием в спектрах тяжелых ионов большого числа неклассифицированных или частично классифицированных уровней. В настоящее время такие уровни и связанные с ними переходы просто не отображаются на диаграмме. Для тяжелых ионов, однако, часто в спектрах такие уровни и переходы преобладают. В настоящее время в ИС ЭСА реализуется построение диаграмм для нейтральных атомов всех элементов периодической таблицы. Причем для 98 элементов на диаграмме строятся уровни и переходы, и лишь для Ра, Fm, Md, Lr - только уровни из-за отсутствия данных о классифицированных (т. е. отнесенным к конкретным уровням) переходах. При этом качество получаемой диаграммы соответствует требованиям как по значимости отобранных линий, так и по плотности размещения информации на диаграмме и ее общей читаемости. В качестве примера на рис. 2, 3 представлены диаграммы Гротриана для атома Fe I, построенные с помощью NIST ASD и ИС ЭСА. Заключение Таким образом, к настоящему времени построена, заполнена информацией и опубликована в Интернете в открытом доступе информационная система по электронной структуре атомов [9]. База данных системы содержит обширный банк спектральных данных, не уступающий лучшим мировым аналогам. Кроме того ИС, ЭСА обладает уникальной функциональностью построения диаграмм Гротриана с возможностью автоматического отбора линий на основе интеллектуального анализа данных и строит их динамически по запросам пользователей. Следует отметить, что с проектом Гротриан и создаваемой в процессе его выполнения информационной системой связан ряд научных приоритетов. В прототипе этой системы, опубликованном в Интернете в 2003 г., впервые была продемонстрирована возможность автоматического построения диаграмм Гротриана. В нем же была реализована возможность построения диаграмм по запросам пользователя через Интернет. В версии 2005 г. у ИС ЭСА появился алгоритм автоматического отбора линий и переходов для размещения на диаграмме, отсутствующий и в настоящее время во всех аналогичных системах. В 2007 г. ИС ЭСА строила диаграммы для нейтральных атомов всех элементов периодической системы, что до настоящего времени не повторено в аналогичных системах [18]. В России ИС ЭСА является первым ресурсом по спектрам атомных систем, опубликованным в Интернет в свободном доступе. Следующим ресурсом стал упоминаемый выше SPECTR-W3 [8], который был опубликован в 2006 г. База данных ИС ЭСА является самым крупным отечественным ресурсом по спектрам нейтральных атомов и многократно превосходит SPECTR-W3 и другие ресурсы. В 2009 г. база данных «Электронная структура атомов» информационной системы зарегистрирована в Федеральной службе по интеллектуальной собственности, патентам и товарным знакам РФ [23]. В настоящее время ведутся работы по пополнению базы данных сведениями о спектрах однократных ионов и решается задача размещения на диаграммах неклассифицированных уровней. Актуальным остается углубление интеллектуального анализа данных для большего соответствия отбираемых линий требованиям специалистов, а в будущем и для адаптации диаграмм к конкретным исследовательским задачам. В заключение авторы считают своим долгом отметить неоценимый вклад в полученные результаты члена-корреспондента РАН С. Г. Раутиана (1928-2009), который инициировал работы по данному проекту и высказал ряд определяющих идей. ]]></text>
</doc>
